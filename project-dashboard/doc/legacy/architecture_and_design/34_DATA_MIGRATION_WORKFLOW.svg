<svg id="my-svg" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="flowchart" style="max-width: 3021.47px; background-color: white;" viewBox="0 0 3021.46875 3964.40625" role="graphics-document document" aria-roledescription="flowchart-v2"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#my-svg .yaml&gt;*{fill:#fff9c4!important;stroke:#f57f17!important;stroke-width:2px!important;}#my-svg .yaml span{fill:#fff9c4!important;stroke:#f57f17!important;stroke-width:2px!important;}#my-svg .migration&gt;*{fill:#e1f5ff!important;stroke:#0288d1!important;stroke-width:2px!important;}#my-svg .migration span{fill:#e1f5ff!important;stroke:#0288d1!important;stroke-width:2px!important;}#my-svg .validation&gt;*{fill:#c8e6c9!important;stroke:#388e3c!important;stroke-width:2px!important;}#my-svg .validation span{fill:#c8e6c9!important;stroke:#388e3c!important;stroke-width:2px!important;}#my-svg .execution&gt;*{fill:#ffccbc!important;stroke:#d84315!important;stroke-width:2px!important;}#my-svg .execution span{fill:#ffccbc!important;stroke:#d84315!important;stroke-width:2px!important;}#my-svg .success&gt;*{fill:#a5d6a7!important;stroke:#2e7d32!important;stroke-width:3px!important;}#my-svg .success span{fill:#a5d6a7!important;stroke:#2e7d32!important;stroke-width:3px!important;}#my-svg .rollback&gt;*{fill:#ef9a9a!important;stroke:#c62828!important;stroke-width:2px!important;}#my-svg .rollback span{fill:#ef9a9a!important;stroke:#c62828!important;stroke-width:2px!important;}#my-svg .deploy&gt;*{fill:#d1c4e9!important;stroke:#512da8!important;stroke-width:2px!important;}#my-svg .deploy span{fill:#d1c4e9!important;stroke:#512da8!important;stroke-width:2px!important;}#my-svg .decision&gt;*{fill:#fff59d!important;stroke:#f57f17!important;stroke-width:2px!important;}#my-svg .decision span{fill:#fff59d!important;stroke:#f57f17!important;stroke-width:2px!important;}#my-svg .note&gt;*{fill:#fffde7!important;stroke:#f9a825!important;stroke-width:2px!important;stroke-dasharray:5 5!important;}#my-svg .note span{fill:#fffde7!important;stroke:#f9a825!important;stroke-width:2px!important;stroke-dasharray:5 5!important;}</style><g><marker id="my-svg_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><g class="root"><g class="clusters"><g class="cluster" id="subGraph5" data-look="classic"><rect style="" x="8" y="1157.078125" width="386" height="1107"/><g class="cluster-label" transform="translate(112.7265625, 1157.078125)"><foreignObject width="176.546875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel">6. Deployment Workflow</span></div></foreignObject></g></g><g class="cluster" id="subGraph4" data-look="classic"><rect style="" x="2261.46875" y="2820.015625" width="752" height="791.390625"/><g class="cluster-label" transform="translate(2538.6953125, 2820.015625)"><foreignObject width="197.546875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel">5. Post-Migration Validation</span></div></foreignObject></g></g><g class="cluster" id="subGraph3" data-look="classic"><rect style="" x="1469.46875" y="1848.078125" width="772" height="2108.328125"/><g class="cluster-label" transform="translate(1775.0078125, 1848.078125)"><foreignObject width="160.921875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel">4. Migration Execution</span></div></foreignObject></g></g><g class="cluster" id="subGraph2" data-look="classic"><rect style="" x="1565.96875" y="1157.078125" width="386" height="617"/><g class="cluster-label" transform="translate(1663.421875, 1157.078125)"><foreignObject width="191.09375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel">3. Pre-Migration Validation</span></div></foreignObject></g></g><g class="cluster" id="subGraph1" data-look="classic"><rect style="" x="414" y="570" width="1131.96875" height="883.078125"/><g class="cluster-label" transform="translate(904.046875, 570)"><foreignObject width="151.875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel">2. Migration Creation</span></div></foreignObject></g></g><g class="cluster" id="subGraph0" data-look="classic"><rect style="" x="784.48828125" y="8" width="386" height="488"/><g class="cluster-label" transform="translate(882.44921875, 8)"><foreignObject width="190.078125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel">1. Schema Definition YAML</span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M977.488,363L977.488,385.167C977.488,407.333,977.488,451.667,977.488,480C977.488,508.333,977.488,520.667,977.488,533C977.488,545.333,977.488,557.667,977.488,567.333C977.488,577,977.488,584,977.488,587.5L977.488,591" id="L_YAML_CreateMigration_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_YAML_CreateMigration_0" data-points="W3sieCI6OTc3LjQ4ODI4MTI1LCJ5IjozNjN9LHsieCI6OTc3LjQ4ODI4MTI1LCJ5Ijo0OTZ9LHsieCI6OTc3LjQ4ODI4MTI1LCJ5Ijo1MzN9LHsieCI6OTc3LjQ4ODI4MTI1LCJ5Ijo1NzB9LHsieCI6OTc3LjQ4ODI4MTI1LCJ5Ijo1OTV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M914.144,699.734L862.953,716.458C811.763,733.182,709.381,766.63,658.191,788.854C607,811.078,607,822.078,607,827.578L607,833.078" id="L_CreateMigration_SchemaChange_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_CreateMigration_SchemaChange_0" data-points="W3sieCI6OTE0LjE0MzkxNTUzMDgwMTIsInkiOjY5OS43MzM3NTkyODA4MDEyfSx7IngiOjYwNywieSI6ODAwLjA3ODEyNX0seyJ4Ijo2MDcsInkiOjgzNy4wNzgxMjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M977.488,763.078L977.488,769.245C977.488,775.411,977.488,787.745,977.488,799.411C977.488,811.078,977.488,822.078,977.488,827.578L977.488,833.078" id="L_CreateMigration_DataChange_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_CreateMigration_DataChange_0" data-points="W3sieCI6OTc3LjQ4ODI4MTI1LCJ5Ijo3NjMuMDc4MTI1fSx7IngiOjk3Ny40ODgyODEyNSwieSI6ODAwLjA3ODEyNX0seyJ4Ijo5NzcuNDg4MjgxMjUsInkiOjgzNy4wNzgxMjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1041.041,699.526L1093.029,716.284C1145.017,733.043,1248.993,766.561,1300.981,790.819C1352.969,815.078,1352.969,830.078,1352.969,837.578L1352.969,845.078" id="L_CreateMigration_SeedData_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_CreateMigration_SeedData_0" data-points="W3sieCI6MTA0MS4wNDA3MTg5NTg0ODI2LCJ5Ijo2OTkuNTI1Njg3MjkxNTE3Nn0seyJ4IjoxMzUyLjk2ODc1LCJ5Ijo4MDAuMDc4MTI1fSx7IngiOjEzNTIuOTY4NzUsInkiOjg0OS4wNzgxMjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M607,1083.078L607,1089.245C607,1095.411,607,1107.745,607,1120.078C607,1132.411,607,1144.745,611.682,1162.46C616.364,1180.176,625.728,1203.273,630.41,1214.822L635.092,1226.371" id="L_SchemaChange_RollbackScript_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_SchemaChange_RollbackScript_0" data-points="W3sieCI6NjA3LCJ5IjoxMDgzLjA3ODEyNX0seyJ4Ijo2MDcsInkiOjExMjAuMDc4MTI1fSx7IngiOjYwNywieSI6MTE1Ny4wNzgxMjV9LHsieCI6NjM2LjU5NDU5NDU5NDU5NDYsInkiOjEyMzAuMDc4MTI1fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M879.482,1083.078L874.568,1089.245C869.654,1095.411,859.827,1107.745,854.914,1120.078C850,1132.411,850,1144.745,835.474,1162.659C820.949,1180.573,791.898,1204.068,777.372,1215.815L762.847,1227.563" id="L_DataChange_RollbackScript_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_DataChange_RollbackScript_0" data-points="W3sieCI6ODc5LjQ4MTY2NTAzOTA2MjUsInkiOjEwODMuMDc4MTI1fSx7IngiOjg1MCwieSI6MTEyMC4wNzgxMjV9LHsieCI6ODUwLCJ5IjoxMTU3LjA3ODEyNX0seyJ4Ijo3NTkuNzM2NDg2NDg2NDg2NSwieSI6MTIzMC4wNzgxMjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M765,1028.775L799.999,1043.992C834.997,1059.21,904.995,1089.644,939.993,1111.028C974.992,1132.411,974.992,1144.745,1078.667,1170.483C1182.341,1196.222,1389.69,1235.365,1493.364,1254.937L1597.038,1274.509" id="L_SchemaChange_PreCheck_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_SchemaChange_PreCheck_0" data-points="W3sieCI6NzY1LCJ5IjoxMDI4Ljc3NTIzNTU4NzQzNn0seyJ4Ijo5NzQuOTkyMTg3NSwieSI6MTEyMC4wNzgxMjV9LHsieCI6OTc0Ljk5MjE4NzUsInkiOjExNTcuMDc4MTI1fSx7IngiOjE2MDAuOTY4NzUsInkiOjEyNzUuMjUwNzAyNzAzODEzN31d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1075.495,1083.078L1080.409,1089.245C1085.322,1095.411,1095.149,1107.745,1100.063,1120.078C1104.977,1132.411,1104.977,1144.745,1186.992,1169.472C1269.007,1194.199,1433.037,1231.319,1515.052,1249.879L1597.067,1268.439" id="L_DataChange_PreCheck_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_DataChange_PreCheck_0" data-points="W3sieCI6MTA3NS40OTQ4OTc0NjA5Mzc0LCJ5IjoxMDgzLjA3ODEyNX0seyJ4IjoxMTA0Ljk3NjU2MjUsInkiOjExMjAuMDc4MTI1fSx7IngiOjExMDQuOTc2NTYyNSwieSI6MTE1Ny4wNzgxMjV9LHsieCI6MTYwMC45Njg3NSwieSI6MTI2OS4zMjIzNDYxODk1Njg5fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1352.969,1071.078L1352.969,1079.245C1352.969,1087.411,1352.969,1103.745,1352.969,1118.078C1352.969,1132.411,1352.969,1144.745,1393.676,1165.75C1434.383,1186.756,1515.797,1216.434,1556.504,1231.273L1597.211,1246.112" id="L_SeedData_PreCheck_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_SeedData_PreCheck_0" data-points="W3sieCI6MTM1Mi45Njg3NSwieSI6MTA3MS4wNzgxMjV9LHsieCI6MTM1Mi45Njg3NSwieSI6MTEyMC4wNzgxMjV9LHsieCI6MTM1Mi45Njg3NSwieSI6MTE1Ny4wNzgxMjV9LHsieCI6MTYwMC45Njg3NSwieSI6MTI0Ny40ODIwNjU4ODY2OTk1fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1758.969,1428.078L1758.969,1432.245C1758.969,1436.411,1758.969,1444.745,1758.969,1455.078C1758.969,1465.411,1758.969,1477.745,1758.969,1491.411C1758.969,1505.078,1758.969,1520.078,1758.969,1527.578L1758.969,1535.078" id="L_PreCheck_BackupDB_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_PreCheck_BackupDB_0" data-points="W3sieCI6MTc1OC45Njg3NSwieSI6MTQyOC4wNzgxMjV9LHsieCI6MTc1OC45Njg3NSwieSI6MTQ1My4wNzgxMjV9LHsieCI6MTc1OC45Njg3NSwieSI6MTQ5MC4wNzgxMjV9LHsieCI6MTc1OC45Njg3NSwieSI6MTUzOS4wNzgxMjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1758.969,1737.078L1758.969,1743.245C1758.969,1749.411,1758.969,1761.745,1758.969,1774.078C1758.969,1786.411,1758.969,1798.745,1758.969,1811.078C1758.969,1823.411,1758.969,1835.745,1758.969,1845.411C1758.969,1855.078,1758.969,1862.078,1758.969,1865.578L1758.969,1869.078" id="L_BackupDB_MigrationRunner_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_BackupDB_MigrationRunner_0" data-points="W3sieCI6MTc1OC45Njg3NSwieSI6MTczNy4wNzgxMjV9LHsieCI6MTc1OC45Njg3NSwieSI6MTc3NC4wNzgxMjV9LHsieCI6MTc1OC45Njg3NSwieSI6MTgxMS4wNzgxMjV9LHsieCI6MTc1OC45Njg3NSwieSI6MTg0OC4wNzgxMjV9LHsieCI6MTc1OC45Njg3NSwieSI6MTg3My4wNzgxMjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1843.87,2239.078L1845.803,2243.245C1847.736,2247.411,1851.603,2255.745,1853.536,2266.078C1855.469,2276.411,1855.469,2288.745,1855.469,2314.406C1855.469,2340.068,1855.469,2379.057,1855.469,2418.047C1855.469,2457.036,1855.469,2496.026,1855.469,2536.188C1855.469,2576.349,1855.469,2617.682,1855.469,2659.016C1855.469,2700.349,1855.469,2741.682,1855.469,2768.516C1855.469,2795.349,1855.469,2807.682,1855.469,2838.516C1855.469,2869.349,1855.469,2918.682,1855.469,2970.016C1855.469,3021.349,1855.469,3074.682,1855.469,3119.965C1855.469,3165.247,1855.469,3202.479,1855.469,3239.711C1855.469,3276.943,1855.469,3314.174,1855.469,3355.457C1855.469,3396.74,1855.469,3442.073,1855.469,3485.406C1855.469,3528.74,1855.469,3570.073,1855.469,3596.906C1855.469,3623.74,1855.469,3636.073,1856.662,3647.755C1857.855,3659.436,1860.242,3670.467,1861.436,3675.982L1862.629,3681.497" id="L_MigrationRunner_SchemaVersionTable_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_MigrationRunner_SchemaVersionTable_0" data-points="W3sieCI6MTg0My44NzAxOTIzMDc2OTI0LCJ5IjoyMjM5LjA3ODEyNX0seyJ4IjoxODU1LjQ2ODc1LCJ5IjoyMjY0LjA3ODEyNX0seyJ4IjoxODU1LjQ2ODc1LCJ5IjoyMzAxLjA3ODEyNX0seyJ4IjoxODU1LjQ2ODc1LCJ5IjoyNDE4LjA0Njg3NX0seyJ4IjoxODU1LjQ2ODc1LCJ5IjoyNTM1LjAxNTYyNX0seyJ4IjoxODU1LjQ2ODc1LCJ5IjoyNjU5LjAxNTYyNX0seyJ4IjoxODU1LjQ2ODc1LCJ5IjoyNzgzLjAxNTYyNX0seyJ4IjoxODU1LjQ2ODc1LCJ5IjoyODIwLjAxNTYyNX0seyJ4IjoxODU1LjQ2ODc1LCJ5IjoyOTY4LjAxNTYyNX0seyJ4IjoxODU1LjQ2ODc1LCJ5IjozMTI4LjAxNTYyNX0seyJ4IjoxODU1LjQ2ODc1LCJ5IjozMjM5LjcxMDkzNzV9LHsieCI6MTg1NS40Njg3NSwieSI6MzM1MS40MDYyNX0seyJ4IjoxODU1LjQ2ODc1LCJ5IjozNDg3LjQwNjI1fSx7IngiOjE4NTUuNDY4NzUsInkiOjM2MTEuNDA2MjV9LHsieCI6MTg1NS40Njg3NSwieSI6MzY0OC40MDYyNX0seyJ4IjoxODYzLjQ3NDg3NzkyOTY4NzQsInkiOjM2ODUuNDA2MjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1674.067,2239.078L1672.134,2243.245C1670.201,2247.411,1666.335,2255.745,1664.402,2266.078C1662.469,2276.411,1662.469,2288.745,1662.469,2300.411C1662.469,2312.078,1662.469,2323.078,1662.469,2328.578L1662.469,2334.078" id="L_MigrationRunner_Transaction_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_MigrationRunner_Transaction_0" data-points="W3sieCI6MTY3NC4wNjczMDc2OTIzMDc2LCJ5IjoyMjM5LjA3ODEyNX0seyJ4IjoxNjYyLjQ2ODc1LCJ5IjoyMjY0LjA3ODEyNX0seyJ4IjoxNjYyLjQ2ODc1LCJ5IjoyMzAxLjA3ODEyNX0seyJ4IjoxNjYyLjQ2ODc1LCJ5IjoyMzM4LjA3ODEyNX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1662.469,2498.016L1662.469,2504.182C1662.469,2510.349,1662.469,2522.682,1662.469,2536.349C1662.469,2550.016,1662.469,2565.016,1662.469,2572.516L1662.469,2580.016" id="L_Transaction_AutoRollback_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Transaction_AutoRollback_0" data-points="W3sieCI6MTY2Mi40Njg3NSwieSI6MjQ5OC4wMTU2MjV9LHsieCI6MTY2Mi40Njg3NSwieSI6MjUzNS4wMTU2MjV9LHsieCI6MTY2Mi40Njg3NSwieSI6MjU4NC4wMTU2MjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1723.84,2436.644L1777.945,2453.039C1832.05,2469.435,1940.259,2502.225,1994.364,2524.12C2048.469,2546.016,2048.469,2557.016,2048.469,2562.516L2048.469,2568.016" id="L_Transaction_RecordMigration_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Transaction_RecordMigration_0" data-points="W3sieCI6MTcyMy44NDAyMzE4MjY2NTQyLCJ5IjoyNDM2LjY0NDE0MzE3MzM0NTZ9LHsieCI6MjA0OC40Njg3NSwieSI6MjUzNS4wMTU2MjV9LHsieCI6MjA0OC40Njg3NSwieSI6MjU3Mi4wMTU2MjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2048.469,2746.016L2048.469,2752.182C2048.469,2758.349,2048.469,2770.682,2048.469,2783.016C2048.469,2795.349,2048.469,2807.682,2119.656,2831.736C2190.842,2855.79,2333.216,2891.565,2404.403,2909.452L2475.589,2927.34" id="L_RecordMigration_PostCheck_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_RecordMigration_PostCheck_0" data-points="W3sieCI6MjA0OC40Njg3NSwieSI6Mjc0Ni4wMTU2MjV9LHsieCI6MjA0OC40Njg3NSwieSI6Mjc4My4wMTU2MjV9LHsieCI6MjA0OC40Njg3NSwieSI6MjgyMC4wMTU2MjV9LHsieCI6MjQ3OS40Njg3NSwieSI6MjkyOC4zMTQ0MzY1NDQ5OTE2fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2637.469,3091.016L2637.469,3097.182C2637.469,3103.349,2637.469,3115.682,2637.469,3127.349C2637.469,3139.016,2637.469,3150.016,2637.469,3155.516L2637.469,3161.016" id="L_PostCheck_ValidationPass_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_PostCheck_ValidationPass_0" data-points="W3sieCI6MjYzNy40Njg3NSwieSI6MzA5MS4wMTU2MjV9LHsieCI6MjYzNy40Njg3NSwieSI6MzEyOC4wMTU2MjV9LHsieCI6MjYzNy40Njg3NSwieSI6MzE2NS4wMTU2MjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2591.084,3268.022L2568.315,3281.919C2545.546,3295.817,2500.007,3323.611,2477.238,3347.009C2454.469,3370.406,2454.469,3389.406,2454.469,3398.906L2454.469,3408.406" id="L_ValidationPass_Success_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_ValidationPass_Success_0" data-points="W3sieCI6MjU5MS4wODQ0MjgyNjkzOTksInkiOjMyNjguMDIxOTI4MjY5Mzk5fSx7IngiOjI0NTQuNDY4NzUsInkiOjMzNTEuNDA2MjV9LHsieCI6MjQ1NC40Njg3NSwieSI6MzQxMi40MDYyNX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2683.853,3268.022L2706.622,3281.919C2729.392,3295.817,2774.93,3323.611,2797.699,3343.009C2820.469,3362.406,2820.469,3373.406,2820.469,3378.906L2820.469,3384.406" id="L_ValidationPass_ManualRollback_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_ValidationPass_ManualRollback_0" data-points="W3sieCI6MjY4My44NTMwNzE3MzA2MDEsInkiOjMyNjguMDIxOTI4MjY5Mzk5fSx7IngiOjI4MjAuNDY4NzUsInkiOjMzNTEuNDA2MjV9LHsieCI6MjgyMC40Njg3NSwieSI6MzM4OC40MDYyNX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2820.469,3586.406L2820.469,3590.573C2820.469,3594.74,2820.469,3603.073,2691.802,3613.406C2563.135,3623.74,2305.802,3636.073,2171.5,3647.932C2037.198,3659.792,2025.928,3671.178,2020.293,3676.871L2014.658,3682.563" id="L_ManualRollback_SchemaVersionTable_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_ManualRollback_SchemaVersionTable_0" data-points="W3sieCI6MjgyMC40Njg3NSwieSI6MzU4Ni40MDYyNX0seyJ4IjoyODIwLjQ2ODc1LCJ5IjozNjExLjQwNjI1fSx7IngiOjIwNDguNDY4NzUsInkiOjM2NDguNDA2MjV9LHsieCI6MjAxMS44NDM2Mjc5Mjk2ODc1LCJ5IjozNjg1LjQwNjI1fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M513.597,1083.078L508.914,1089.245C504.231,1095.411,494.866,1107.745,490.183,1120.078C485.5,1132.411,485.5,1144.745,465.008,1161.572C444.516,1178.398,403.532,1199.719,383.04,1210.379L362.549,1221.039" id="L_SchemaChange_DevTest_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_SchemaChange_DevTest_0" data-points="W3sieCI6NTEzLjU5Njg3NSwieSI6MTA4My4wNzgxMjV9LHsieCI6NDg1LjUsInkiOjExMjAuMDc4MTI1fSx7IngiOjQ4NS41LCJ5IjoxMTU3LjA3ODEyNX0seyJ4IjozNTksInkiOjEyMjIuODg0ODAzMzgzMTI4Mn1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M201,1416.078L201,1422.245C201,1428.411,201,1440.745,201,1453.078C201,1465.411,201,1477.745,201,1489.411C201,1501.078,201,1512.078,201,1517.578L201,1523.078" id="L_DevTest_CI_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_DevTest_CI_0" data-points="W3sieCI6MjAxLCJ5IjoxNDE2LjA3ODEyNX0seyJ4IjoyMDEsInkiOjE0NTMuMDc4MTI1fSx7IngiOjIwMSwieSI6MTQ5MC4wNzgxMjV9LHsieCI6MjAxLCJ5IjoxNTI3LjA3ODEyNX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M201,1749.078L201,1753.245C201,1757.411,201,1765.745,201,1776.078C201,1786.411,201,1798.745,201,1811.078C201,1823.411,201,1835.745,201,1855.411C201,1875.078,201,1902.078,201,1915.578L201,1929.078" id="L_CI_ProdDeploy_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_CI_ProdDeploy_0" data-points="W3sieCI6MjAxLCJ5IjoxNzQ5LjA3ODEyNX0seyJ4IjoyMDEsInkiOjE3NzQuMDc4MTI1fSx7IngiOjIwMSwieSI6MTgxMS4wNzgxMjV9LHsieCI6MjAxLCJ5IjoxODQ4LjA3ODEyNX0seyJ4IjoyMDEsInkiOjE5MzMuMDc4MTI1fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(977.48828125, 533)"><g class="label" data-id="L_YAML_CreateMigration_0" transform="translate(-64.5703125, -12)"><foreignObject width="129.140625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel">1. Update schema</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(607, 800.078125)"><g class="label" data-id="L_CreateMigration_SchemaChange_0" transform="translate(-55.0859375, -12)"><foreignObject width="110.171875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Schema change</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(977.48828125, 800.078125)"><g class="label" data-id="L_CreateMigration_DataChange_0" transform="translate(-44.1796875, -12)"><foreignObject width="88.359375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Data change</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1352.96875, 800.078125)"><g class="label" data-id="L_CreateMigration_SeedData_0" transform="translate(-54.6328125, -12)"><foreignObject width="109.265625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Reference data</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(607, 1120.078125)"><g class="label" data-id="L_SchemaChange_RollbackScript_0" transform="translate(-50, -12)"><foreignObject width="100" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Always create</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(850, 1120.078125)"><g class="label" data-id="L_DataChange_RollbackScript_0" transform="translate(-50, -12)"><foreignObject width="100" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Always create</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(974.9921875, 1120.078125)"><g class="label" data-id="L_SchemaChange_PreCheck_0" transform="translate(-54.9921875, -12)"><foreignObject width="109.984375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel">2. Before apply</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1104.9765625, 1120.078125)"><g class="label" data-id="L_DataChange_PreCheck_0" transform="translate(-54.9921875, -12)"><foreignObject width="109.984375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel">2. Before apply</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1352.96875, 1120.078125)"><g class="label" data-id="L_SeedData_PreCheck_0" transform="translate(-54.9921875, -12)"><foreignObject width="109.984375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel">2. Before apply</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1758.96875, 1490.078125)"><g class="label" data-id="L_PreCheck_BackupDB_0" transform="translate(-41.09375, -12)"><foreignObject width="82.1875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel">3. If passed</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1758.96875, 1811.078125)"><g class="label" data-id="L_BackupDB_MigrationRunner_0" transform="translate(-38.0703125, -12)"><foreignObject width="76.140625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel">4. Execute</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1855.46875, 2968.015625)"><g class="label" data-id="L_MigrationRunner_SchemaVersionTable_0" transform="translate(-16.03125, -12)"><foreignObject width="32.0625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Uses</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1662.46875, 2301.078125)"><g class="label" data-id="L_MigrationRunner_Transaction_0" transform="translate(-53.78125, -12)"><foreignObject width="107.5625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel">5. Execute SQL</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1662.46875, 2535.015625)"><g class="label" data-id="L_Transaction_AutoRollback_0" transform="translate(-21.8671875, -12)"><foreignObject width="43.734375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Failed</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(2048.46875, 2535.015625)"><g class="label" data-id="L_Transaction_RecordMigration_0" transform="translate(-26.984375, -12)"><foreignObject width="53.96875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Success</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(2048.46875, 2783.015625)"><g class="label" data-id="L_RecordMigration_PostCheck_0" transform="translate(-38.65625, -12)"><foreignObject width="77.3125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel">6. Validate</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(2637.46875, 3128.015625)"><g class="label" data-id="L_PostCheck_ValidationPass_0" transform="translate(-54.0859375, -12)"><foreignObject width="108.171875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel">7. Check result</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(2454.46875, 3351.40625)"><g class="label" data-id="L_ValidationPass_Success_0" transform="translate(-23.5859375, -12)"><foreignObject width="47.171875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Passed</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(2820.46875, 3351.40625)"><g class="label" data-id="L_ValidationPass_ManualRollback_0" transform="translate(-21.8671875, -12)"><foreignObject width="43.734375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Failed</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(2048.46875, 3648.40625)"><g class="label" data-id="L_ManualRollback_SchemaVersionTable_0" transform="translate(-49.2421875, -12)"><foreignObject width="98.484375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Undo changes</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(485.5, 1120.078125)"><g class="label" data-id="L_SchemaChange_DevTest_0" transform="translate(-23.484375, -12)"><foreignObject width="46.96875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Test in</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(201, 1490.078125)"><g class="label" data-id="L_DevTest_CI_0" transform="translate(-51.2421875, -12)"><foreignObject width="102.484375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Merge triggers</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(201, 1811.078125)"><g class="label" data-id="L_CI_ProdDeploy_0" transform="translate(-34.203125, -12)"><foreignObject width="68.40625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Deploy to</p></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default yaml" id="flowchart-YAML-0" transform="translate(977.48828125, 252)"><rect class="basic label-container" style="fill:#fff9c4 !important;stroke:#f57f17 !important;stroke-width:2px !important" x="-158" y="-111" width="316" height="222"/><g class="label" style="" transform="translate(-128, -96)"><rect/><foreignObject width="256" height="192"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>database.yaml<br />━━━━━━━━━━━━━━━━<br />Single Source of Truth<br />Define:<br />• Tables<br />• Columns<br />• Constraints<br />• Indices</p></span></div></foreignObject></g></g><g class="node default decision" id="flowchart-CreateMigration-1" transform="translate(977.48828125, 679.0390625)"><polygon points="84.0390625,0 168.078125,-84.0390625 84.0390625,-168.078125 0,-84.0390625" class="label-container" transform="translate(-83.5390625, 84.0390625)" style="fill:#fff59d !important;stroke:#f57f17 !important;stroke-width:2px !important"/><g class="label" style="" transform="translate(-57.0390625, -12)"><rect/><foreignObject width="114.078125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Need Migration?</p></span></div></foreignObject></g></g><g class="node default migration" id="flowchart-SchemaChange-2" transform="translate(607, 960.078125)"><rect class="basic label-container" style="fill:#e1f5ff !important;stroke:#0288d1 !important;stroke-width:2px !important" x="-158" y="-123" width="316" height="246"/><g class="label" style="" transform="translate(-128, -108)"><rect/><foreignObject width="256" height="216"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Schema Migration<br />━━━━━━━━━━━━━━━━<br />DDL Changes:<br />• ALTER TABLE<br />• CREATE TABLE<br />• DROP TABLE<br />• CREATE INDEX<br />━━━━━━━━━━━━━━━━<br />File: schema/0010_add_column.sql</p></span></div></foreignObject></g></g><g class="node default migration" id="flowchart-DataChange-3" transform="translate(977.48828125, 960.078125)"><rect class="basic label-container" style="fill:#e1f5ff !important;stroke:#0288d1 !important;stroke-width:2px !important" x="-158" y="-123" width="316" height="246"/><g class="label" style="" transform="translate(-128, -108)"><rect/><foreignObject width="256" height="216"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Data Migration<br />━━━━━━━━━━━━━━━━<br />DML Changes:<br />• UPDATE<br />• INSERT<br />• DELETE<br />• Data Transform<br />━━━━━━━━━━━━━━━━<br />File: data/0011_migrate_data.sql</p></span></div></foreignObject></g></g><g class="node default migration" id="flowchart-SeedData-4" transform="translate(1352.96875, 960.078125)"><rect class="basic label-container" style="fill:#e1f5ff !important;stroke:#0288d1 !important;stroke-width:2px !important" x="-158" y="-111" width="316" height="222"/><g class="label" style="" transform="translate(-128, -96)"><rect/><foreignObject width="256" height="192"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Seed Migration<br />━━━━━━━━━━━━━━━━<br />Reference Data:<br />• Default settings<br />• Lookup tables<br />• Initial config<br />━━━━━━━━━━━━━━━━<br />File: seed/0001_defaults.sql</p></span></div></foreignObject></g></g><g class="node default migration" id="flowchart-RollbackScript-5" transform="translate(667, 1305.078125)"><rect class="basic label-container" style="fill:#e1f5ff !important;stroke:#0288d1 !important;stroke-width:2px !important" x="-158" y="-75" width="316" height="150"/><g class="label" style="" transform="translate(-128, -60)"><rect/><foreignObject width="256" height="120"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Rollback Script<br />━━━━━━━━━━━━━━━━<br />Undo migration<br />━━━━━━━━━━━━━━━━<br />File: rollback/0010_rollback.sql</p></span></div></foreignObject></g></g><g class="node default validation" id="flowchart-PreCheck-6" transform="translate(1758.96875, 1305.078125)"><rect class="basic label-container" style="fill:#c8e6c9 !important;stroke:#388e3c !important;stroke-width:2px !important" x="-158" y="-123" width="316" height="246"/><g class="label" style="" transform="translate(-128, -108)"><rect/><foreignObject width="256" height="216"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Pre-Migration Check<br />━━━━━━━━━━━━━━━━<br />pre_migration_check.py<br />━━━━━━━━━━━━━━━━<br />Checks:<br />✓ Foreign key integrity<br />✓ Database integrity<br />✓ Disk space<br />✓ No active locks</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-BackupDB-7" transform="translate(1758.96875, 1638.078125)"><rect class="basic label-container" style="" x="-158" y="-99" width="316" height="198"/><g class="label" style="" transform="translate(-128, -84)"><rect/><foreignObject width="256" height="168"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Backup Database<br />━━━━━━━━━━━━━━━━<br />cp zmonitor.db<br />  zmonitor_backup_timestamp.db<br />━━━━━━━━━━━━━━━━<br />CRITICAL: Always backup<br />before migrations</p></span></div></foreignObject></g></g><g class="node default execution" id="flowchart-MigrationRunner-8" transform="translate(1758.96875, 2056.078125)"><rect class="basic label-container" style="fill:#ffccbc !important;stroke:#d84315 !important;stroke-width:2px !important" x="-158" y="-183" width="316" height="366"/><g class="label" style="" transform="translate(-128, -168)"><rect/><foreignObject width="256" height="336"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Migration Runner<br />━━━━━━━━━━━━━━━━<br />migrate.py<br />━━━━━━━━━━━━━━━━<br />1. Check schema_version table<br />2. Find pending migrations<br />3. Apply in order<br />4. Record version<br />5. Track execution time<br />━━━━━━━━━━━━━━━━<br />Supports:<br />• Dry-run mode<br />• Target version<br />• Batch processing</p></span></div></foreignObject></g></g><g class="node default execution" id="flowchart-SchemaVersionTable-9" transform="translate(1890.08984375, 3808.40625)"><rect class="basic label-container" style="fill:#ffccbc !important;stroke:#d84315 !important;stroke-width:2px !important" x="-158" y="-123" width="316" height="246"/><g class="label" style="" transform="translate(-128, -108)"><rect/><foreignObject width="256" height="216"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>schema_version Table<br />━━━━━━━━━━━━━━━━<br />Tracks applied migrations:<br />• version INTEGER PK<br />• applied_at TEXT<br />• description TEXT<br />• migration_type TEXT<br />• file_hash TEXT<br />• execution_time_ms INT</p></span></div></foreignObject></g></g><g class="node default execution" id="flowchart-Transaction-10" transform="translate(1662.46875, 2418.046875)"><polygon points="79.96875,0 159.9375,-79.96875 79.96875,-159.9375 0,-79.96875" class="label-container" transform="translate(-79.46875, 79.96875)" style="fill:#ffccbc !important;stroke:#d84315 !important;stroke-width:2px !important"/><g class="label" style="" transform="translate(-40.96875, -24)"><rect/><foreignObject width="81.9375" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Transaction<br />Successful?</p></span></div></foreignObject></g></g><g class="node default rollback" id="flowchart-AutoRollback-11" transform="translate(1662.46875, 2659.015625)"><rect class="basic label-container" style="fill:#ef9a9a !important;stroke:#c62828 !important;stroke-width:2px !important" x="-158" y="-75" width="316" height="150"/><g class="label" style="" transform="translate(-128, -60)"><rect/><foreignObject width="256" height="120"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>AUTO ROLLBACK<br />━━━━━━━━━━━━━━━━<br />Transaction fails<br />Database unchanged<br />No partial state</p></span></div></foreignObject></g></g><g class="node default execution" id="flowchart-RecordMigration-12" transform="translate(2048.46875, 2659.015625)"><rect class="basic label-container" style="fill:#ffccbc !important;stroke:#d84315 !important;stroke-width:2px !important" x="-158" y="-87" width="316" height="174"/><g class="label" style="" transform="translate(-128, -72)"><rect/><foreignObject width="256" height="144"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Record Migration<br />━━━━━━━━━━━━━━━━<br />INSERT INTO schema_version<br />  version, applied_at, ...<br />━━━━━━━━━━━━━━━━<br />Migration tracked</p></span></div></foreignObject></g></g><g class="node default validation" id="flowchart-PostCheck-13" transform="translate(2637.46875, 2968.015625)"><rect class="basic label-container" style="fill:#c8e6c9 !important;stroke:#388e3c !important;stroke-width:2px !important" x="-158" y="-123" width="316" height="246"/><g class="label" style="" transform="translate(-128, -108)"><rect/><foreignObject width="256" height="216"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Post-Migration Check<br />━━━━━━━━━━━━━━━━<br />post_migration_check.py<br />━━━━━━━━━━━━━━━━<br />Validates:<br />✓ Schema version correct<br />✓ Data integrity OK<br />✓ Row counts match<br />✓ No corruption</p></span></div></foreignObject></g></g><g class="node default validation" id="flowchart-ValidationPass-14" transform="translate(2637.46875, 3239.7109375)"><polygon points="74.6953125,0 149.390625,-74.6953125 74.6953125,-149.390625 0,-74.6953125" class="label-container" transform="translate(-74.1953125, 74.6953125)" style="fill:#c8e6c9 !important;stroke:#388e3c !important;stroke-width:2px !important"/><g class="label" style="" transform="translate(-35.6953125, -24)"><rect/><foreignObject width="71.390625" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Validation<br />Passed?</p></span></div></foreignObject></g></g><g class="node default success" id="flowchart-Success-15" transform="translate(2454.46875, 3487.40625)"><rect class="basic label-container" style="fill:#a5d6a7 !important;stroke:#2e7d32 !important;stroke-width:3px !important" x="-158" y="-75" width="316" height="150"/><g class="label" style="" transform="translate(-128, -60)"><rect/><foreignObject width="256" height="120"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>✅ Migration Complete<br />━━━━━━━━━━━━━━━━<br />Database updated<br />Version incremented<br />Application can restart</p></span></div></foreignObject></g></g><g class="node default rollback" id="flowchart-ManualRollback-16" transform="translate(2820.46875, 3487.40625)"><rect class="basic label-container" style="fill:#ef9a9a !important;stroke:#c62828 !important;stroke-width:2px !important" x="-158" y="-99" width="316" height="198"/><g class="label" style="" transform="translate(-128, -84)"><rect/><foreignObject width="256" height="168"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Manual Rollback<br />━━━━━━━━━━━━━━━━<br />migrate.py --rollback VERSION<br />━━━━━━━━━━━━━━━━<br />Execute rollback script<br />Restore previous state<br />Investigate failure</p></span></div></foreignObject></g></g><g class="node default deploy" id="flowchart-DevTest-17" transform="translate(201, 1305.078125)"><rect class="basic label-container" style="fill:#d1c4e9 !important;stroke:#512da8 !important;stroke-width:2px !important" x="-158" y="-111" width="316" height="222"/><g class="label" style="" transform="translate(-128, -96)"><rect/><foreignObject width="256" height="192"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Development Test<br />━━━━━━━━━━━━━━━━<br />Test on copy:<br />1. Copy DB<br />2. Dry-run<br />3. Apply migration<br />4. Validate<br />5. Test rollback</p></span></div></foreignObject></g></g><g class="node default deploy" id="flowchart-CI-18" transform="translate(201, 1638.078125)"><rect class="basic label-container" style="fill:#d1c4e9 !important;stroke:#512da8 !important;stroke-width:2px !important" x="-158" y="-111" width="316" height="222"/><g class="label" style="" transform="translate(-128, -96)"><rect/><foreignObject width="256" height="192"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>CI/CD Pipeline<br />━━━━━━━━━━━━━━━━<br />GitHub Actions:<br />• Check numbering<br />• Test on empty DB<br />• Test on sample data<br />• Test rollback<br />• Generate report</p></span></div></foreignObject></g></g><g class="node default deploy" id="flowchart-ProdDeploy-19" transform="translate(201, 2056.078125)"><rect class="basic label-container" style="fill:#d1c4e9 !important;stroke:#512da8 !important;stroke-width:2px !important" x="-158" y="-123" width="316" height="246"/><g class="label" style="" transform="translate(-128, -108)"><rect/><foreignObject width="256" height="216"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Production Deploy<br />━━━━━━━━━━━━━━━━<br />Workflow:<br />1. Backup prod DB<br />2. Pre-checks<br />3. Dry-run review<br />4. Apply migration<br />5. Post-validation<br />6. Monitor metrics</p></span></div></foreignObject></g></g><g class="node default note" id="flowchart-note1-66" transform="translate(1363.48828125, 252)"><rect class="basic label-container" style="fill:#fffde7 !important;stroke:#f9a825 !important;stroke-width:2px !important;stroke-dasharray:5 5 !important" x="-158" y="-219" width="316" height="438"/><g class="label" style="" transform="translate(-128, -204)"><rect/><foreignObject width="256" height="408"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Migration Types:<br />━━━━━━━━━━━━━━━━<br />Schema DDL - ALTER/CREATE/DROP tables<br />Data DML - UPDATE/INSERT/DELETE data<br />Seed - Insert reference data<br />Rollback - Undo migration<br />━━━━━━━━━━━━━━━━<br />Best Practices:<br />✅ Always backup first<br />✅ Test on copy of prod data<br />✅ Write rollback scripts<br />✅ Use transactions<br />✅ Validate before and after<br />❌ Never modify applied migrations</p></span></div></foreignObject></g></g></g></g></g></svg>